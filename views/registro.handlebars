<div class="container-fluid">      
  <div class="biombo row px-5">
    <h1 class="text-center mt-5" style="color: green;">Registrate aqui</h1> 
    {{> cardRegistro }}    
    
    <div class="responsivo col-7 mt-5 py-5 mb-5 text-center rounded" style="background: green;">      
      <h3>Registro</h3><br>     
      
      <form action="/registro" method="POST" enctype="multipart/form-data">      
        <div class="form-group">             
          <div class="form-group pt-4"> 
            <Label>Nombre</Label> <br>      
            <input id="nombre" type="text" name="nombre" placeholder="Jimena Sanchez" class="form-control w-50 m-auto" />
          </div>
          <div class="form-group pt-4"> 
            <Label>email</Label> <br>      
            <input type="text" name="nombre" placeholder="Jimena Sanchez" class="form-control w-50 m-auto" />
          </div>
          <div class="form-group py-4">
            <Label>Password</Label> <br>         
            <input id="password" type="password" name="password" placeholder="********" class="form-control w-50 m-auto" />
          </div>
          <div class="form-group py-4">
            <Label>Repite password</Label> <br>         
            <input id="repetir_password" type="password" name="repitePassword" placeholder="********" class="form-control w-50 m-auto" />
          </div>
          <div class="form-group col-12 col-sm-12">
            <p class="text-white pb-3">Sube tu foto de perfil</p>           
            <input type="file" name="foto" onchange="previewFile()"><br>          
          </div>
        
        </div> <br>
        <input class="btn btn-primary" type="button" value="Registrar" onClick="registrar()">            
          <br><br>
      </form>
      <p><a href="./perfil">Completa tu perfil</a></p>
    </div>  
  </div>
</div>
 <script>           
        {{!-- function registrar() {
          window.alert("Usuario registrado");
        } --}}

    const registrar = () => {
      let nombre = document.getElementById('nombre').value;
      let password = document.getElementById('password').value;
      let repetir_password = document.getElementById('repetir_password').value;
      if (repetir_password !== password) {
        alert(`Has escrito mal la contraseña de confirmación`);
      } else {
        alert(`Usuario ${nombre} registrado con éxito! Ya puedes iniciar sesión`);
        window.location.href = '/inicio' ;
      }
    };

</script>  


<script>

  function previewFile() {
    const preview = document.getElementById('ppRegistro');
    const file = document.querySelector('input[type=file').files[0];
    const reader = new FileReader();

    reader.addEventListener("load", () => {
      preview.src = reader.result;
    }, false);

    if (file) {
      reader.readAsDataURL(file);
    }
  }
  
</script>

